# GASバックエンド デプロイ手順書

このポートフォリオの予約システムを動作させるために、ご自身のGoogleアカウントでGASをセットアップしてください。

## 手順

1.  **Googleスプレッドシートの作成**
    - Googleドライブで「新規」→「Google スプレッドシート」を作成。
    - 名前を `Portfolio_Backend` などに変更。

2.  **GASエディタを開く**
    - スプレッドシートのメニューから「拡張機能」→「Apps Script」をクリック。

3.  **コードの貼り付け**
    - 開いたエディタの `コード.gs` (または `Code.gs`) の中身を削除。
    - このフォルダにある `Code.gs` の内容をすべてコピーして貼り付け。
    - `Cmd + S` (Ctrl + S) で保存。プロジェクト名は適当に（例: `PortfolioAPI`）。

4.  **デプロイ（Webアプリとして公開）**
    - 右上の「デプロイ」ボタン → 「新しいデプロイ」を選択。
    - **種類の選択**: 歯車アイコン → 「ウェブアプリ」。
    - **説明**: `v1` など。
    - **次のユーザーとして実行**: `自分` (Me)。
    - **アクセスできるユーザー**: `全員` (Anyone)。
        - **重要**: これを `全員` にしないと、LPからデータを送信できません。
    - 「デプロイ」ボタンをクリック。
    - **承認**: 「アクセスを承認」→ Googleアカウント選択 → 「Advanced（詳細）」→ 「Go to ... (unsafe)」→ 「Allow（許可）」。
        - ※未確認アプリと出ますが、ご自分のコードなので安全です。

5.  **URLの取得**
    - デプロイ完了画面で表示される **ウェブアプリ URL** （`https://script.google.com/macros/s/.../exec`）をコピー。

6.  **LPへの反映**
    - コピーしたURLを、LPの `js/main.js` の先頭にある設定項目（これから作ります）に貼り付けてください。

7.  **【重要】管理者メールアドレスの設定**
    - コードにメールアドレスを直書きしないため、「スクリプトプロパティ」を使用します。
    - GASエディタの左側メニュー「歯車マーク（プロジェクトの設定）」をクリック。
    - 一番下の「スクリプト プロパティ」欄にある「スクリプト プロパティを追加」をクリック。
    - **プロパティ**: `ADMIN_EMAIL`
    - **値**: `あなたのメールアドレス`
    - 「スクリプト プロパティを保存」をクリック。

以上で、LPのフォームから送信されたデータが、あなたのスプレッドシート・カレンダー・Gmailに連携されるようになります。
